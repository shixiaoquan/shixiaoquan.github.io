---
layout: post
title: Git 删除远端分支后，git branch -a 依然能够被查看的解决办法
date: 2018/06/21 16:40:00
feature-img: "assets/img/pexels/deviceeventemiter.png"
thumbnail: "assets/img/thumbnails/deviceeventemiter.png"
categories: [Git]
tags: [Git]
---

## 简介
使用 `git branch -a` 可以查看当前的所有本地分支和远端分支，但是当远端分支被删除后，使用 `git branch -a` 依然能够查看。

```
edmond@treaty ~/BTCC/miningpool-app  (EdmondDev)
🐶🐳🦀: git branch -a
* EdmondDev
  remotes/origin/HEAD -> origin/develop
  remotes/origin/develop
  remotes/origin/group-op
  remotes/origin/home
  remotes/origin/master
  remotes/origin/mining
  remotes/origin/ui-components
```
如上所示，group-op home 分支已经在远端被删除，但是依然能够查看。

## 查看分支状态
使用 `git remote show origin` 查看remote地址，远程分支，还有本地分支与之相对应关系等信息

```
edmond@treaty ~/BTCC/miningpool-app  (EdmondDev)
🐶🐳🦀: git remote show origin
* remote origin
  Fetch URL: git@github.com:btccpool/miningpool-app.git
  Push  URL: git@github.com:btccpool/miningpool-app.git
  HEAD branch: develop
  Remote branches:
    develop                      tracked
    justin-dev                   new (next fetch will store in remotes/origin)
    master                       tracked
    refs/remotes/origin/group-op stale (use 'git remote prune' to remove)
    refs/remotes/origin/home     stale (use 'git remote prune' to remove)
    refs/remotes/origin/mining   stale (use 'git remote prune' to remove)
    ui-components                tracked
```

显示 group-op、home、mining 这3哥分支都是 stale（废弃的）状态

## 修剪分支
使用 `git remote prune` 修建分支，删除已经废弃的分支

```
edmond@treaty ~/BTCC/miningpool-app  (EdmondDev)
🐶🐳🦀: git remote prune origin
Pruning origin
URL: git@github.com:btccpool/miningpool-app.git
 * [pruned] origin/group-op
 * [pruned] origin/home
 * [pruned] origin/mining
```

再用 `git branch -a` 查看分支的状态

```
edmond@treaty ~/BTCC/miningpool-app  (EdmondDev)
🐶🐳🦀: git branch -a
* EdmondDev
  remotes/origin/HEAD -> origin/develop
  remotes/origin/develop
  remotes/origin/master
  remotes/origin/ui-components
```

废弃的分支不存在了

## 本文结束，欢迎大家加群共同学习

|![QQ群：672509442]({{ site.url }}/assets/img/postpics/QQGroupQR.png)|
| :-: |
|**QQ群：672509442**|
